### 超文本传输协议 HTTP/0.9
HTTP/0.9被称为超文本传输协议，基于TCP协议。实现方式如下：
（1）客户端先要根据 IP 地址、端口和服务器建立 TCP 连接，而建立连接的过程就是 TCP 协议三次握手的过程。
（2）建立好连接之后，会发送一个 GET 请求行的信息，如GET /index.html用来获取 index.html。
（3）服务器接收请求信息之后，读取对应的 HTML 文件，并将数据以 ASCII 字符流返回给客户端。
（4）HTML 文档传输完成后，断开连接。
![](https://static001.geekbang.org/resource/image/db/34/db1166c68c22a45c9858e88a234f1a34.png)

总的来说，当时的需求很简单，就是用来传输体积很小的 HTML 文件，所以 HTTP/0.9 的实现有以下三个特点。
（1）第一个是只有一个请求行，并没有 HTTP 请求头和请求体，因为只需要一个请求行就可以完整表达客户端的需求了。
（2）第二个是服务器也没有返回头信息，这是因为服务器端并不需要告诉客户端太多信息，只需要返回数据就可以了。
（3）第三个是返回的文件内容是以 ASCII 字符流来传输的，因为都是 HTML 格式的文件，所以使用 ASCII 字节码来传输是最合适的。


### 被浏览器推动的 HTTP/1.0
支持多种类型的文件下载是 HTTP/1.0 的一个核心诉求，而且文件格式不仅仅局限于 ASCII 编码，还有很多其他类型编码的文件。

那么该如何实现多种类型文件的下载呢？

HTTP/0.9只能用来传输体积很小的 HTML 文件，对于多种类型文件传输的需求并不能满足，所以HTTP/1.0 引入了请求头和响应头，它们都是以为 Key-Value 形式保存的，在 HTTP 发送请求时，会带上请求头信息，服务器返回数据时，会先返回响应头信息。至于 HTTP/1.0 具体的请求流程，你可以参考下图。
![](https://static001.geekbang.org/resource/image/b5/7d/b52b0d1a26ff2b8607c08e5c50ae687d.png)


那 HTTP/1.0 是怎么通过请求头和响应头来支持多种不同类型的数据呢？
那要支持多种类型的文件，我们就需要解决以下几个问题。
（1）首先，浏览器需要知道服务器返回的数据是什么类型的，然后浏览器才能根据不同的数据类型做针对性的处理。
（2）其次，由于万维网所支持的应用变得越来越广，所以单个文件的数据量也变得越来越大。为了减轻传输性能，服务器会对数据进行压缩后再传输，所以浏览器需要知道服务器压缩的方法。
（3）再次，由于万维网是支持全球范围的，所以需要提供国际化的支持，服务器需要对不同的地区提供不同的语言版本，这就需要浏览器告诉服务器它想要什么语言版本的页面。
（4）最后，由于增加了各种不同类型的文件，而每种文件的编码形式又可能不一样，为了能够准确地读取文件，浏览器需要知道文件的编码类型。


- 接口的请求方式
建立TCP连接 => HTTP请求 => HTTP响应 => 断开TCP连接  
建立TCP连接 => HTTP请求 => HTTP响应 => 断开TCP连接


### HTTP1.1版本
做了下面的升级：
1、使用CDN实现域名分片机制，将数据分割成若干个任意大小的数据块
2、浏览器为每个域名最多同时维护 6 个 TCP 持久连接；
3、持久连接

- 接口的请求方式如下
建立TCP连接 => HTTP请求 => HTTP响应 => HTTP请求 => HTTP响应 => 断开TCP连接

- 但是HTTP1.1版本仍然有未解决的问题：
    - 1、TCP 的慢启动
    - 2、同时开启多条TCP连接，这些连接会竞争固定的带宽。
    - 3、队头阻塞问题



